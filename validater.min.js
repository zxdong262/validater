/*! validater by ZHAO Xudong, html5beta.com 2014-08-06 */
!function(){function a(a){if(!a)throw new Error("no jquery object!");var b=a.validater={};b.version="1.0.2",b.defaults={showTipOnfocus:!1,showOKtip:!1,okHtml:"&radic;"},b.evt=function(b,c){var d=c&&c.rules?c.rules:{},e=a.validater,f=e.defaults,g=f.showTipOnfocus,h=f.showOKtip;b.each(function(){var b,f=a(this),i=f.prop("name"),j=a.extend({reg:f.data("reg")?new RegExp(f.data("reg")):"",minLen:f.data("min-len"),maxLen:f.data("max-len"),optional:f.data("optional"),tip:f.data("tip"),errMsg:f.data("err-msg"),regMsg:f.data("reg-msg"),minLenMsg:f.data("min-len-msg"),maxLenMsg:f.data("max-len-msg"),customMsg:f.data("custom-msg"),ignore:!!f.data("ignore"),noTip:!!f.data("no-tip"),noOkTip:h&&!!f.data("no-ok-tip"),events:f.data("events"),errWrap:f.data("err-wrap")},d[i]||{}),k=f.siblings("."+i+"-err-wrap"),l=k.length?k:f,m=c.errWrap,n=k.length?"html":"after";n=m?"html":n,l=m?a(m):l,b="html"===n?"children":"next",j=a.extend(j,{wrap:l,func:n,errFunc:b}),f.data("vr-opt",j),g&&!j.noTip&&f.on("focus",function(){f[b](".err-item").length||j.noTip||e.output(f,j,{cls:"vr-tip",msg:j.tip})}),f.on(j.events||"keyup blur change",function(){e.check(f,j)})})},b.output=function(b,c,d){var e=!c.noTip,f=d.cls,g=d.msg,h=!!d.select,i=(b.prop("name"),c.func),j=c.errFunc,k=c.wrap,l=a.validater,m=l.defaults;k[j](".err-item").remove(),"vr-ok"===f?(b.removeClass("err"),e&&m.showOKtip&&!c.noOkTip&&k[i]('<i class="err-item '+f+'">'+m.okHtml+"</i>")):"vr-tip"===f?(b.removeClass("err"),e&&k[i]('<i class="err-item '+f+'">'+g+"</i>")):"vr-err"===f&&(b.addClass("err"),e&&k[i]('<i class="err-item '+f+'">'+g+"</i>"),h&&b.select())},b.check=function(b,c,d,e,f,g){var h=b.val(),i=b.prop("name"),j=a.validater.output,k={minLen:c.minLen?h.length>=c.minLen:"ignore",maxLen:c.maxLen?h.length<=c.maxLen:"ignore",custom:c.custom?c.custom(b,c):"ignore",reg:c.reg?c.reg.test(h):"ignore"},l=c.optional&&h||!c.optional,m=k.minLen&&k.maxLen&&k.custom&&k.reg||!l,n=c.errFunc,o=c.wrap;return o[n](".err-item").remove(),l&&k.minLen===!1?j(b,c,{select:g,cls:"vr-err",msg:c.minLenMsg||c.errMsg||c.tip}):l&&k.maxLen===!1?(j(b,c,{select:g,cls:"vr-err",msg:c.maxLenMsg||c.errMsg||c.tip}),b.val(h.slice(0,c.maxLen))):l&&k.custom===!1?j(b,c,{select:g,cls:"vr-err",msg:c.customMsg||c.errMsg||c.tip}):l&&k.reg===!1?j(b,c,{select:g,cls:"vr-err",msg:c.regMsg||c.errMsg||c.tip}):j(b,c,{select:g,cls:"vr-ok"}),m&&d&&(!c.ignore||f)?e.submit[i]=c.valueFilter?c.valueFilter(h):h:!m&&d&&e.res++,m},b.submit=function(b,c){var d={submit:{},res:0},e=a.validater.check;return b=a(b.toArray().reverse()),b.each(function(){var b=a(this),f=b.data("vr-opt");e(b,f,!0,d,c,!0)}),d}}"function"==typeof define?define(function(require){var b=require("jquery");a(b)}):a(jQuery)}(this);